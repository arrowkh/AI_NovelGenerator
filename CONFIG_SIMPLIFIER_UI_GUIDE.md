# 配置简化器 UI 设计指南

## 界面布局设计

### 整体结构

```
┌─────────────────────────────────────────────────────────────┐
│  🎓 配置简化和渐进式学习系统                                 │
├─────────────────────────────────────────────────────────────┤
│  [基础] [高级] [专家]  ← 模式切换按钮                       │
│  当前模式说明文字                                            │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  配置内容区（根据模式动态变化）                              │
│                                                             │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│  💡 提示: 想了解更多吗？切换到高级模式                       │
└─────────────────────────────────────────────────────────────┘
```

## 模式界面详细设计

### 1. 基础模式界面

#### 布局

```
┌─────────────────────────────────────────────────────────────┐
│  配置模式: [基础] [高级] [专家]                              │
│  适合新手，只显示核心配置，使用推荐预设                      │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─ LLM 模型 ─────────────────────────────────────────┐    │
│  │                                                     │    │
│  │  选择推荐模型:                                      │    │
│  │                                                     │    │
│  │  ○ 快速 (推荐新手)                                 │    │
│  │     └─ 成本低，生成快，质量还可以                  │    │
│  │                                                     │    │
│  │  ● 平衡 (推荐) ← 默认选中                          │    │
│  │     └─ 成本适中，质量和速度平衡                    │    │
│  │                                                     │    │
│  │  ○ 高质量                                          │    │
│  │     └─ 成本高，质量最好                            │    │
│  │                                                     │    │
│  │  ○ 创意模式                                        │    │
│  │     └─ 高创意度，适合奇幻/科幻                     │    │
│  │                                                     │    │
│  │  ○ 自定义 [点击配置]                              │    │
│  └─────────────────────────────────────────────────────┘    │
│                                                             │
│  ┌─ 生成参数 ──────────────────────────────────────────┐    │
│  │                                                     │    │
│  │  温度(创意度):                                      │    │
│  │                                                     │    │
│  │  [●━━━━━━━━━━━━━━━━━━━━━━] 0.7                     │    │
│  │   低 ←─────────→ 高                                │    │
│  │                                                     │    │
│  │  ───────────────────────────────────               │    │
│  │                                                     │    │
│  │  📊 预计耗时: 2 分钟 / 章                          │    │
│  │  💰 预计成本: $0.05 / 章                           │    │
│  └─────────────────────────────────────────────────────┘    │
│                                                             │
│  [💾 保存配置]  [🔄 重置为默认]                             │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│  💡 想了解更多吗？切换到高级模式查看更多配置选项             │
└─────────────────────────────────────────────────────────────┘
```

#### 特点
- ✅ 只有 2-3 个核心选项
- ✅ 预设按钮带说明文字
- ✅ 温度滑块带直观标签
- ✅ 实时显示成本和时间预估
- ✅ 底部提示下一步学习路径

#### 颜色方案
- 背景: 深色模式 #1E1E1E, 浅色模式 #FFFFFF
- 主色: 蓝色 #1E90FF
- 预设按钮: 绿色 #2E8B57
- 提示文字: 灰色 #808080

### 2. 高级模式界面

#### 布局

```
┌─────────────────────────────────────────────────────────────┐
│  配置模式: [基础] [高级] [专家]                              │
│  适合中级用户，显示常用配置项，支持细节调整                  │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─ LLM 配置 ──────────────────────────────────────────┐    │
│  │                                                     │    │
│  │  生成模型:     [GPT-3.5-turbo      ▼]              │    │
│  │                                                     │    │
│  │  API Key:      [sk-proj-********* ▼]   [👁 显示]  │    │
│  │                                                     │    │
│  │  Base URL:     [https://api.openai.com/v1    ]     │    │
│  │                                                     │    │
│  │  最大 Tokens:  [━━━━●━━━━━━━] 4096                 │    │
│  │                                                     │    │
│  │  温度:         [━━━━●━━━━━━━] 0.75                 │    │
│  │                                                     │    │
│  │  Top P:        [━━━━━━━━━━●━] 1.0                  │    │
│  └─────────────────────────────────────────────────────┘    │
│                                                             │
│  ┌─ 检查和优化 ─────────────────────────────────────────┐    │
│  │                                                     │    │
│  │  ☑ 启用一致性检查                                  │    │
│  │  ☑ 启用风格检查                                    │    │
│  │  ☑ 启用质量评分                                    │    │
│  │  ☐ 启用自动修复                                    │    │
│  └─────────────────────────────────────────────────────┘    │
│                                                             │
│  ┌─ 性能 ───────────────────────────────────────────────┐    │
│  │                                                     │    │
│  │  并行生成:     ☑ 启用    (Batch 大小: 3)          │    │
│  │  向量库缓存:   ☑ 启用                              │    │
│  └─────────────────────────────────────────────────────┘    │
│                                                             │
│  [💾 保存]  [🧪 测试配置]  [🔄 重置]                        │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│  💡 想完全掌控吗？切换到专家模式获得完整配置权限             │
└─────────────────────────────────────────────────────────────┘
```

#### 特点
- ✅ 显示 10-15 个常用配置项
- ✅ 分组展示（LLM、优化、性能）
- ✅ 滑块 + 数值显示
- ✅ 复选框控制功能开关
- ✅ 测试按钮验证配置

#### 交互
- 悬停在参数上显示详细说明
- 修改参数时显示影响提示
- 实时验证参数合理性

### 3. 专家模式界面

#### 布局

```
┌─────────────────────────────────────────────────────────────┐
│  配置模式: [基础] [高级] [专家]                              │
│  适合高级用户，显示所有配置项，完全控制                      │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌────────────────────────────────────────────────────┐    │
│  │  ▼ ◆ LLM 配置                                     │    │
│  │     ├─ 生成模型        [GPT-4         ▼]         │    │
│  │     ├─ 评估模型        [GPT-3.5-turbo ▼]         │    │
│  │     ├─ Embedding 模型  [ada-002       ▼]         │    │
│  │     ├─ 备选模型        [配置备选...]             │    │
│  │     ├─ Temperature     [0.75] [━━●━━━━━━]        │    │
│  │     ├─ Top P           [1.0 ] [━━━━━━━●━]        │    │
│  │     ├─ Frequency Pen.  [0.0 ] [●━━━━━━━━]        │    │
│  │     ├─ Presence Pen.   [0.0 ] [●━━━━━━━━]        │    │
│  │     └─ Retry Count     [3   ] [━●━━━━━━━]        │    │
│  │                                                   │    │
│  │  ▼ ◆ 向量库配置                                  │    │
│  │     ├─ 后端选择        [Chroma         ▼]        │    │
│  │     ├─ 持久化目录      [./chroma_db        ]     │    │
│  │     ├─ 索引策略        [HNSW           ▼]        │    │
│  │     ├─ 缓存设置        ☑ 启用 (大小: 1GB)       │    │
│  │     └─ 搜索参数        [高级配置...]            │    │
│  │                                                   │    │
│  │  ▼ ◆ 生成参数                                    │    │
│  │     ├─ 单批大小        [1   ] [━●━━━━━━━]        │    │
│  │     ├─ 并行度          [3   ] [━━●━━━━━━]        │    │
│  │     ├─ 超时时间        [600 ] [━━━●━━━━━]        │    │
│  │     └─ 重试策略        [配置重试...]            │    │
│  │                                                   │    │
│  │  ▶ ◆ 检查和优化                                  │    │
│  │  ▶ ◆ 高级选项                                    │    │
│  └────────────────────────────────────────────────────┘    │
│                                                             │
│  [📥 导入] [📤 导出] [✅ 验证] [🔄 重置为默认]              │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│  💡 需要简化界面？随时可以切换回基础模式                    │
└─────────────────────────────────────────────────────────────┘
```

#### 特点
- ✅ 可折叠的配置组
- ✅ 显示所有配置项（30+）
- ✅ 树形结构展示
- ✅ 高级工具（导入/导出/验证）
- ✅ 详细的参数说明

#### 交互
- 点击组标题展开/折叠
- 支持搜索配置项
- 支持配置文件比较
- 显示配置依赖关系

## 对话框设计

### 1. 配置验证对话框

```
┌─────────────────────────────────────────────────────────┐
│  ⚠️ 配置验证结果                               [×]      │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  发现 3 个问题需要注意：                                │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │  ⚠️ 问题 1: 温度值过高 (0.95)                  │   │
│  │                                                 │   │
│  │  ├─ 这个温度值很高，可能导致输出不稳定          │   │
│  │  ├─ 建议: 降低到 0.85 或启用一致性检查         │   │
│  │  └─ [🔧 自动修复]  [❌ 忽略]                   │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │  ⚠️ 问题 2: Max Tokens 过低 (1500)             │   │
│  │                                                 │   │
│  │  ├─ 可能无法生成足够长度的内容                  │   │
│  │  ├─ 建议: 至少设置为 4096                      │   │
│  │  └─ [🔧 自动修复]  [❌ 忽略]                   │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │  ❌ 问题 3: API Key 未设置                      │   │
│  │                                                 │   │
│  │  ├─ 没有 API Key 将无法调用服务                │   │
│  │  ├─ 建议: 请填入有效的 API Key                 │   │
│  │  └─ 无法自动修复                               │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  [✅ 验证通过]  [🔧 修复所有]  [❌ 关闭]               │
└─────────────────────────────────────────────────────────┘
```

### 2. 配置历史查看器

```
┌─────────────────────────────────────────────────────────┐
│  📜 配置变更历史                               [×]      │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │  2小时前 - 用户将温度从 0.7 改为 0.85          │   │
│  │  │                                             │   │
│  │  │ 影响: 生成内容变得更创意，一致性下降 2%    │   │
│  │  │ 结果: 满意 ✓                               │   │
│  │  │                                             │   │
│  │  └─ [↩️ 恢复] [📋 详情]                        │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │  1天前 - 启用并行生成                          │   │
│  │  │                                             │   │
│  │  │ 影响: 生成速度提升 2.6x，成本不变          │   │
│  │  │ 结果: 满意 ✓                               │   │
│  │  │                                             │   │
│  │  └─ [↩️ 恢复] [📋 详情]                        │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │  3天前 - 切换到 GPT-3.5                        │   │
│  │  │                                             │   │
│  │  │ 影响: 成本降低 80%，质量下降 10%           │   │
│  │  │ 结果: 能接受 ~                             │   │
│  │  │                                             │   │
│  │  └─ [↩️ 恢复] [📋 详情]                        │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  [🔄 刷新]  [❌ 关闭]                                   │
└─────────────────────────────────────────────────────────┘
```

### 3. 使用统计对话框

```
┌─────────────────────────────────────────────────────────┐
│  📊 使用统计                                   [×]      │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  总配置次数:          25 次                             │
│  最常用预设:          平衡                              │
│  最常用模式:          高级                              │
│                                                         │
│  ───────────────────────────────────────────────────    │
│                                                         │
│  满意度统计:                                            │
│                                                         │
│  满意:    18 次  ████████████████░░░░  72%             │
│  能接受:   5 次  ████░░░░░░░░░░░░░░░░  20%             │
│  不满意:   2 次  ██░░░░░░░░░░░░░░░░░░   8%             │
│                                                         │
│  ───────────────────────────────────────────────────    │
│                                                         │
│  预设使用分布:                                          │
│                                                         │
│  快速:     3 次  ██████░░░░░░░░░░░░░░  12%             │
│  平衡:    15 次  ██████████████████░░░  60%             │
│  高质量:   5 次  ██████░░░░░░░░░░░░░░  20%             │
│  创意:     2 次  ███░░░░░░░░░░░░░░░░░   8%             │
│                                                         │
│  [📈 详细报告]  [❌ 关闭]                               │
└─────────────────────────────────────────────────────────┘
```

### 4. 参数影响分析弹窗

```
┌─────────────────────────────────────────────────────────┐
│  ⚠️ 参数变更影响分析                           [×]      │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  您将温度从 0.7 改为 0.95                               │
│                                                         │
│  可能的影响:                                            │
│                                                         │
│  创意度:      ↑↑↑ (非常高)      ████████████████       │
│  一致性:      ↓↓↓ (可能不稳定)  ░░░░░░░░░░░░░░░░       │
│  预计成本:    ↑   (token 增加)  ██████████░░░░░░       │
│  预计质量:    ↓   (可能出错)    ░░░░░░░░░░░░░░░░       │
│                                                         │
│  ───────────────────────────────────────────────────    │
│                                                         │
│  💡 建议:                                               │
│                                                         │
│  • 仅在"创意优先"的项目中使用高温度                     │
│  • 同时启用"一致性检查"来弥补稳定性                     │
│  • 考虑使用"创意模式"预设获得更好的平衡                 │
│                                                         │
│  [✅ 应用建议]  [🚫 继续使用我的配置]  [❌ 取消]        │
└─────────────────────────────────────────────────────────┘
```

## 响应式设计

### 窗口尺寸适配

```
小窗口 (< 800px):
- 单列布局
- 折叠配置组
- 简化说明文字

中等窗口 (800-1200px):
- 标准双列布局
- 完整功能显示

大窗口 (> 1200px):
- 三列布局
- 显示实时预览
- 显示学习资源面板
```

## 颜色主题

### 深色模式
```
背景色:     #1E1E1E
文字色:     #FFFFFF
次要文字:   #A0A0A0
边框色:     #3E3E3E
主色调:     #1E90FF
成功色:     #2E8B57
警告色:     #FFA500
错误色:     #DC143C
```

### 浅色模式
```
背景色:     #FFFFFF
文字色:     #000000
次要文字:   #606060
边框色:     #D0D0D0
主色调:     #1E90FF
成功色:     #2E8B57
警告色:     #FFA500
错误色:     #DC143C
```

## 图标系统

```
🎓  配置向导
📜  历史记录
📊  使用统计
💾  保存
🔄  重置
🧪  测试
📥  导入
📤  导出
✅  验证通过
⚠️  警告
❌  错误
ℹ️  信息
💡  提示
🔧  自动修复
↩️  恢复
📋  详情
👁  显示/隐藏
▼  展开
▶  折叠
●  滑块位置
☑  已选中
☐  未选中
```

## 动画效果

### 模式切换
```
过渡时间: 300ms
缓动函数: ease-in-out
效果: 淡入淡出 + 垂直滑动
```

### 配置组展开/折叠
```
过渡时间: 200ms
缓动函数: ease-out
效果: 高度变化
```

### 提示显示
```
过渡时间: 150ms
缓动函数: ease
效果: 淡入
```

### 验证反馈
```
过渡时间: 100ms
效果: 抖动 + 颜色变化
```

## 交互反馈

### 按钮状态
```
正常:    默认颜色
悬停:    颜色加深 10%
按下:    颜色加深 20%
禁用:    灰色 + 透明度 50%
```

### 输入框状态
```
正常:    灰色边框
聚焦:    蓝色边框 + 阴影
错误:    红色边框
成功:    绿色边框
```

### 滑块反馈
```
拖动时:  显示当前值提示
松开时:  显示影响分析（如果需要）
```

## 无障碍设计

### 键盘导航
```
Tab:         焦点切换
Enter:       确认
Escape:      取消/关闭
Space:       选择/切换
Arrow Keys:  滑块调整
Ctrl+W:      打开配置向导
Ctrl+H:      打开历史记录
```

### 屏幕阅读器支持
```
所有按钮:    aria-label
所有输入框:  label 关联
状态变化:    动态提示
```

### 对比度
```
文字对比度:  至少 4.5:1
图标对比度:  至少 3:1
```

## 实现优先级

### 第一阶段 (MVP)
1. ✅ 三种模式的基本布局
2. ✅ 模式切换功能
3. ✅ 基础模式的预设选择
4. ✅ 配置保存和加载

### 第二阶段
1. ✅ 配置验证对话框
2. ✅ 参数影响分析
3. ✅ 配置历史查看器
4. ✅ 使用统计

### 第三阶段
1. 响应式布局
2. 动画效果
3. 高级搜索
4. 配置比较

### 第四阶段
1. 社区功能
2. 学习资源集成
3. AI 推荐
4. 高级主题定制

---

**设计版本**: 1.0  
**最后更新**: 2025-12-18  
**设计原则**: 渐进式披露 + 用户为中心 + 简洁美观
